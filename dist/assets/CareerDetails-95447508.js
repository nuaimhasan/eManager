import{r as p,u as j,a as N,j as e}from"./index-d4e5aba6.js";import{S as c}from"./sweetalert2.all-0db675b4.js";import{u as g}from"./jobApplyFormApi-002e2a02.js";import{a as b}from"./jobsApi-d26c20e8.js";import{S as y}from"./Spinner-241108b6.js";function w(){p.useEffect(()=>{window.scroll(0,0)},[]);const{id:d}=j(),h=N(),[a,o]=p.useState({firstName:"",lastName:"",email:"",phone:"",address:"",linkedin:"",facebook:"",yearsOfExperience:"",expectedSalary:"",coverLetter:"",file:[]}),{data:i,isLoading:x}=b(d),[f]=g();if(x)return e.jsx(y,{});const r=i==null?void 0:i.data,l=t=>{o({...a,[t.target.name]:t.target.value})},u=async t=>{t.preventDefault();const m=a.file[0];if(!m)return c.fire({icon:"error",title:"Oops...",text:"Please upload your resume"});const n=new FormData;n.append("jobId",d),n.append("positionName",r==null?void 0:r.title),n.append("resume",m),Object.keys(a).forEach(s=>{n.append(s,a[s])});try{const s=await f(n).unwrap();s!=null&&s.success&&(o({firstName:"",lastName:"",email:"",phone:"",address:"",linkedin:"",facebook:"",yearsOfExperience:"",expectedSalary:"",coverLetter:"",file:[]}),c.fire({icon:"success",title:"",text:"Apply success"}),h("/career"))}catch(s){console.log(s),c.fire({icon:"error",title:"",text:"Something went wrong"})}};return e.jsx("div",{className:"min-h-screen",children:e.jsxs("div",{className:"container pb-8",children:[e.jsx("h1",{className:"mt-6 text-xl font-dinMedium bg-base-100 p-3 rounded border-t-4 border-primary shadow-lg",children:"Application Form"}),e.jsx("div",{className:"bg-base-100 p-6 rounded-md mt-4 shadow-lg",children:e.jsxs("form",{action:"",className:"career_form",children:[e.jsxs("div",{className:"form_control",children:[e.jsx("label",{htmlFor:"",children:"Name for Position"}),e.jsx("input",{type:"text",name:"",disabled:!0,defaultValue:r==null?void 0:r.title})]}),e.jsxs("div",{className:"form_control ",children:[e.jsx("label",{htmlFor:"",children:"Name"}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",defaultValue:a.firstName,onChange:l}),e.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",defaultValue:a.lastName,onChange:l})]})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[e.jsxs("div",{className:"form_control",children:[e.jsx("label",{htmlFor:"",children:"Email"}),e.jsx("input",{type:"email",name:"email",placeholder:"example@gmail.com",defaultValue:a.email,onChange:l})]}),e.jsxs("div",{className:"form_control",children:[e.jsx("label",{htmlFor:"",children:"Number"}),e.jsx("input",{type:"text",name:"phone",placeholder:"+880",defaultValue:a.phone,onChange:l})]})]}),e.jsxs("div",{className:"form_control",children:[e.jsx("label",{htmlFor:"",children:"Address"}),e.jsx("textarea",{name:"address",rows:"3",placeholder:"state, city",defaultValue:a.address,onChange:l})]}),e.jsxs("div",{className:"form_control",children:[e.jsx("label",{htmlFor:"",children:"Linkedin profile"}),e.jsx("input",{type:"text",name:"linkedin",placeholder:"https://",defaultValue:a.linkedin,onChange:l})]}),e.jsxs("div",{className:"form_control",children:[e.jsx("label",{htmlFor:"",children:"Facebook profile"}),e.jsx("input",{type:"text",name:"facebook",placeholder:"https://",defaultValue:a.facebook,onChange:l})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[e.jsxs("div",{className:"form_control",children:[e.jsx("label",{htmlFor:"",children:"Years of experience"}),e.jsx("input",{type:"text",name:"yearsOfExperience",placeholder:"0",defaultValue:a.yearsOfExperience,onChange:l})]}),e.jsxs("div",{className:"form_control",children:[e.jsx("label",{htmlFor:"",children:"Expected Salary"}),e.jsx("input",{type:"text",name:"expectedSalary",placeholder:"0000",defaultValue:a.expectedSalary,onChange:l})]})]}),e.jsxs("div",{className:"form_control",children:[e.jsx("label",{htmlFor:"",children:"Cover Letter"}),e.jsx("textarea",{name:"coverLetter",rows:"4",placeholder:"Type here...",defaultValue:a.coverLetter,onChange:l})]}),e.jsxs("div",{className:"form_control",children:[e.jsx("label",{className:"block",htmlFor:"file_input",children:"Upload CV/Resume"}),e.jsx("input",{className:"block cursor-pointer","aria-describedby":"file_input_help",id:"file_input",type:"file",name:"file",accept:"application/pdf",onChange:t=>o({...a,file:t.target.files})}),e.jsx("p",{className:"text-sm text-neutral-content",children:"Accepted file types: pdf, Max. file size: 5 MB."})]}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{onClick:u,className:"gradient-primary-btn w-full",children:"Submit"})})]})})]})})}export{w as default};
