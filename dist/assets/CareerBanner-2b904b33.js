import{r as y,j as e}from"./index-d4e5aba6.js";import{S as s}from"./sweetalert2.all-0db675b4.js";import{u as B,a as v,b as w}from"./careerBannerApi-506ab2e3.js";function L(){var c;const{data:r,isLoading:x}=B(),[p,{isLoading:h}]=v(),[j,{isLoading:b}]=w(),[a,n]=y.useState(!1);if(x)return e.jsx("div",{children:"Loading..."});const d=(c=r==null?void 0:r.data[0])==null?void 0:c._id,i=r==null?void 0:r.data[0],g=async o=>{var f;o.preventDefault();const l=o.target.title.value,u=o.target.description.value;if(l===""||u==="")return s.fire({title:"",text:"Please fill all the fields",icon:"error",confirmButtonText:"Ok"});const m={title:l,description:u};if(d)try{const t=await p({id:d,body:m}).unwrap();if(t!=null&&t.success)return n(!1),s.fire({title:"",text:"Banner updated successfully",icon:"success",confirmButtonText:"Ok"})}catch(t){s.fire({title:"",text:t.data.error,icon:"error",confirmButtonText:"Ok"})}else try{const t=await j(m);return t!=null&&t.success?(n(!1),s.fire({title:"",text:"Banner added successfully",icon:"success",confirmButtonText:"Ok"})):s.fire({title:"",text:"Something went wrong",icon:"error",confirmButtonText:"Ok"})}catch(t){s.fire({title:"",text:(f=t==null?void 0:t.data)==null?void 0:f.error,icon:"error",confirmButtonText:"Ok"})}};return e.jsxs("section",{className:"bg-base-100 shadow rounded",children:[e.jsx("div",{className:"p-4 border-b text-neutral font-medium flex justify-between items-center",children:e.jsx("h3",{children:"Career Banner Setting"})}),e.jsxs("form",{onSubmit:g,className:"p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium mb-1",children:"Title*"}),e.jsx("input",{type:"text",name:"title",defaultValue:i==null?void 0:i.title,disabled:!a&&"disabled",required:!0})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"font-medium mb-1",children:"Description*"}),e.jsx("textarea",{name:"description",rows:"3",defaultValue:i==null?void 0:i.description,disabled:!a&&"disabled",required:!0})]}),e.jsx("div",{className:"mt-4",children:a?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"gradient-primary-btn",children:h||b?"Loading...":d?"Update":"Add"}),e.jsx("div",{onClick:()=>n(!1),className:"bg-primary cursor-pointer w-max px-6 rounded flex justify-center items-center",children:"Cancel"})]}):e.jsx("div",{onClick:()=>n(!0),className:"gradient-primary-btn cursor-pointer w-max",children:"Edit"})})]})]})}export{L as default};
