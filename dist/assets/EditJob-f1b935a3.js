import{u as g,a as y,r as a,j as e}from"./index-d4e5aba6.js";import{S as m}from"./sweetalert2.all-0db675b4.js";import{a as v,d as N}from"./jobsApi-d26c20e8.js";function T(){const{id:o}=g(),x=y(),[d,i]=a.useState(""),[l,r]=a.useState(""),[c,n]=a.useState(""),{data:t,isLoading:u}=v(o),[b,{isLoading:p}]=N();a.useEffect(()=>{t!=null&&t.data&&!u&&(i(t==null?void 0:t.data.title),r(t==null?void 0:t.data.description),n(t==null?void 0:t.data.jobType))},[t==null?void 0:t.data,u]);const j=async s=>{s.preventDefault();const h={title:d,description:l,jobType:c};try{(await b({id:o,body:h}).unwrap()).success&&(i(""),r(""),n(""),m.fire({icon:"success",title:"",text:"Update Success"}),x("/admin/career/jobs"))}catch{m.fire({icon:"error",title:"",text:"Something went wrong!"})}};return e.jsxs("section",{className:"bg-base-100 rounded shadow",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h3",{className:"font-medium text-neutral",children:"Update Job"})}),e.jsxs("form",{className:"flex flex-col gap-3 p-4 md:w-1/2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1",children:"Title"}),e.jsx("input",{type:"text",name:"title",required:!0,defaultValue:d,onChange:s=>i(s.target.value)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1",children:"Description"}),e.jsx("textarea",{name:"description",rows:"3",required:!0,defaultValue:l,onChange:s=>r(s.target.value)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1",children:"Job Type"}),e.jsxs("select",{name:"jobType",required:!0,defaultValue:c,onChange:s=>n(s.target.value),children:[e.jsx("option",{defaultValue:"",children:"Select job type"}),e.jsx("option",{defaultValue:"remote",children:"Remote"}),e.jsx("option",{defaultValue:"onsite",children:"Onsite"}),e.jsx("option",{defaultValue:"hybrid",children:"Hybrid"})]})]}),e.jsx("div",{children:e.jsx("button",{disabled:p&&"disabled",className:"gradient-primary-btn",onClick:j,children:p?"Loading...":"Update"})})]})]})}export{T as default};
