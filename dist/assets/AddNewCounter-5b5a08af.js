import{r as d,a as N,j as e}from"./index-d4e5aba6.js";import{a as b}from"./index.esm-d3631ea6.js";import{_ as g}from"./index-a51c96a6.js";import{S as o}from"./sweetalert2.all-0db675b4.js";import{b as v}from"./CounterApi-81d75708.js";import"./iconBase-12a6ae7e.js";function _(){const[s,m]=d.useState([]),[l,u]=d.useState(""),[c,x]=d.useState(""),h=N(),[f,{isLoading:p}]=v(),j=async t=>{var n;t.preventDefault();const i=(n=s[0])==null?void 0:n.file;if(!i||!l||!c)return o.fire({icon:"error",title:"Oops...",text:"Please fill all the fields!"});const r=new FormData;r.append("icon",i),r.append("title",l),r.append("description",c);try{const a=await f(r).unwrap();a!=null&&a.success&&(m([]),u(""),x(""),o.fire({icon:"success",title:"",text:"Counter Added Successfully",showConfirmButton:!1,timer:1500}),h("/admin/counter"))}catch{o.fire({icon:"error",title:"",text:"Something went wrong!"})}};return e.jsxs("section",{children:[e.jsx("div",{className:"p-4 border-b bg-base-100 rounded",children:e.jsx("h1",{className:"font-medium text-neutral",children:"Add New Counter"})}),e.jsx("div",{className:"bg-base-100 rounded mt-2 p-3",children:e.jsxs("form",{className:"md:w-1/2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-neutral-content mb-1",children:["Icon ",e.jsx("small",{children:"(100px/100px)"})]}),e.jsx("div",{className:"sm:flex items-center gap-4",children:e.jsx(g,{defaultValue:s,onChange:t=>m(t),dataURLKey:"data_url",children:({onImageUpload:t,onImageRemove:i,dragProps:r})=>e.jsxs("div",{className:"border rounded border-dashed p-4 w-max flex gap-4",...r,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{onClick:t,className:"px-4 py-1.5 rounded-2xl text-base-100 bg-primary cursor-pointer text-sm",children:"Choose Image"}),e.jsx("p",{className:"text-neutral-content",children:"or Drop here"})]}),e.jsx("div",{className:`${(s==null?void 0:s.length)>0&&"mt-4"} `,children:s==null?void 0:s.map((n,a)=>e.jsxs("div",{className:"image-item relative",children:[e.jsx("img",{src:n.data_url,alt:"",className:"w-16 h-16"}),e.jsx("div",{onClick:()=>i(a),className:"w-7 h-7 bg-primary rounded-full flex justify-center items-center text-base-100 absolute top-0 right-0 cursor-pointer",children:e.jsx(b,{})})]},a))})]})})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"mb-1",children:"Title"}),e.jsx("input",{type:"text",name:"title",defaultValue:l,required:!0,onChange:t=>u(t.target.value)})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"mb-1",children:"Description"}),e.jsx("textarea",{name:"description",rows:"5",defaultValue:c,required:!0,onChange:t=>x(t.target.value)})]}),e.jsx("div",{className:"mt-5",children:e.jsx("button",{onClick:j,type:"submit",className:"gradient-primary-btn",disabled:p&&"disabled",children:p?"Loading...":"Add Counter"})})]})})]})}export{_ as default};
