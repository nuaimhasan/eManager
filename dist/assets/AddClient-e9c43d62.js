import{r as c,a as h,j as e}from"./index-d4e5aba6.js";import{a as j}from"./index.esm-d3631ea6.js";import{_ as b}from"./index-a51c96a6.js";import{S as d}from"./sweetalert2.all-0db675b4.js";import{b as g}from"./clientApi-3383af6d.js";import"./iconBase-12a6ae7e.js";function L(){const[t,l]=c.useState([]),[m,u]=c.useState(1),x=h(),[p,{isLoading:o}]=g(),f=async r=>{var n;r.preventDefault();let i=(n=t[0])==null?void 0:n.file;if(!i)return d.fire("","Logo is Recuired","error");const a=new FormData;a.append("client",i),a.append("order",m);try{const s=await p(a).unwrap();s!=null&&s.success&&(u(1),l([]),d.fire({title:"",text:"Client add success",icon:"success",confirmButtonText:"Ok"}),x("/admin/clients/all-clients"))}catch{d.fire({title:"Error!",text:"Something went wrong",icon:"error",confirmButtonText:"Ok"})}};return e.jsxs("section",{children:[e.jsx("div",{className:"p-4 border-b bg-base-100 rounded",children:e.jsx("h1",{className:"font-medium text-neutral",children:"Add Client"})}),e.jsxs("form",{className:"mt-2 bg-base-100 rounded md:w-1/2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-content border-b p-3",children:"Client Logo"}),e.jsx("div",{className:"p-4 sm:flex items-center gap-4",children:e.jsx(b,{defaultValue:t,onChange:r=>l(r),dataURLKey:"data_url",children:({onImageUpload:r,onImageRemove:i,dragProps:a})=>e.jsxs("div",{className:"border rounded border-dashed p-4",...a,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{onClick:r,className:"px-4 py-1.5 rounded-2xl text-base-100 bg-primary cursor-pointer text-sm",children:"Choose Image"}),e.jsx("p",{className:"text-neutral-content",children:"or Drop here"})]}),e.jsx("div",{className:`${(t==null?void 0:t.length)>0&&"mt-4"} `,children:t==null?void 0:t.map((n,s)=>e.jsxs("div",{className:"image-item relative",children:[e.jsx("img",{src:n.data_url,alt:"",className:"w-40"}),e.jsx("div",{onClick:()=>i(s),className:"w-7 h-7 bg-primary rounded-full flex justify-center items-center text-base-100 absolute top-0 right-0 cursor-pointer",children:e.jsx(j,{})})]},s))})]})})})]}),e.jsx("div",{className:"flex justify-end mt-6 border-t p-4",children:e.jsx("button",{disabled:o&&"disabled",onClick:f,className:"gradient-primary-btn",children:o?"Loading...":"Add Client"})})]})]})}export{L as default};
